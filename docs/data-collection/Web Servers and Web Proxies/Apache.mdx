---
custom_edit_url: "https://github.com/netdata/go.d.plugin/edit/master/modules/apache/README.md"
sidebar_label: "Apache"
learn_status: "Published"
toc_max_heading_level: "4"
learn_rel_path: "Data collection/Web Servers and Web Proxies"
description: "Monitor the health and performance of Apache web servers with zero configuration, per-second metric granularity, and interactive visualizations."
sidebar_position: "648000"
slug: "/data-collection/web-servers-and-web-proxies/apache"
---
# Apache

## Overview

[Apache](https://httpd.apache.org/) monitoring is important because the server can easily fall victim to bottlenecks and other performance problems, especially as usage scales up. If your web server is slow, it takes longer for users to have their requests fulfilledâ€”and even small slowdowns can impact your organization's bottom line.

With Apache monitoring, you can ensure your server is configured to sufficiently handle the current scale of requests. 

Routine Apache monitoring can alert you to performance issues in real time and help you stop slowdowns before they affect end-user experience.

This collector monitors metrics from one or more Apache servers, depending on your configuration.

## Collected metrics

Metrics grouped by *scope*.

The scope defines the instance that the metric belongs to. An instance is uniquely identified by a set of labels.

All metrics available only if [ExtendedStatus](https://httpd.apache.org/docs/2.4/mod/core.html#extendedstatus) is on.

### global

These metrics refer to the entire monitored application.

This scope has no labels.

Metrics:


| Metric             | Dimensions                                                                                                  | Unit        | Basic/Extended | Description                                        |
|--------------------|-:-:---------------------------------------------------------------------------------------------------------|-:-:---------|-:-:------------|-:-:------------------------------------------------|
| apache.connections | connections                                                                                                 | connections | + +            | Connections                                        |
| apache.conns_async | keepalive, closing, writing                                                                                 | connections | + +            | Active Connections                                 |
| apache.workers     | idle, busy                                                                                                  | workers     | + +            | Workers Threads                                    |
| apache.scoreboard  | waiting, starting, reading, sending, keepalive, dns_lookup, closing, logging, finishing, idle_cleanup, open | connections | + +            | Scoreboard                                         |
| apache.requests    | requests                                                                                                    | requests/s  | - +            | Requests                                           |
| apache.net         | sent                                                                                                        | kilobit/s   | - +            | Bandwidth                                          |
| apache.reqpersec   | requests                                                                                                    | requests/s  | - +            | Lifetime Average Number Of Requests Per Second     |
| apache.bytespersec | served                                                                                                      | KiB/s       | - +            | Lifetime Average Number Of Bytes Served Per Second |
| apache.bytesperreq | size                                                                                                        | KiB         | - +            | Lifetime Average Response Size                     |
| apache.uptime      | uptime                                                                                                      | seconds     | - +            | Uptime                                             |



## Setup

### Prerequisites

#### Enable Apache status support

- Enable and configure [status_module](https://httpd.apache.org/docs/2.4/mod/mod_status.html).
- Ensure that you have [ExtendedStatus](https://httpd.apache.org/docs/2.4/mod/mod_status.html#troubleshoot) set on (
  enabled by default since Apache v2.3.6).

### Configuration

#### File

The configuration file name is `go.d/apache.conf`.

The file format is YAML. Generally, the format is:

```yaml
update_every: 1
autodetection_retry: 0
jobs:
  - name: some_name1
  - name: some_name1
```

You can edit the configuration file using the `edit-config` script from the
Netdata [config directory](/docs/configuring/configuration#the-netdata-config-directory).

```bash
cd /etc/netdata 2>/dev/null || cd /opt/netdata/etc/netdata
sudo ./edit-config go.d/apache.conf
```

#### Options

The following options can be defined globally: update_every, autodetection_retry.

<details>
<summary>Config options</summary>

|         Name         | Description                                                                                               |               Default               | Required |
|:--------------------:|-----------------------------------------------------------------------------------------------------------|:-----------------------------------:|:--------:|
|     update_every     | Data collection frequency.                                                                                |                  1                  |          |
| autodetection_retry  | Re-check interval in seconds. Zero means not to schedule re-check.                                        |                  0                  |          |
|         url          | Server URL.                                                                                               | http://127.0.0.1/server-status?auto |   yes    |
|       timeout        | HTTP request timeout.                                                                                     |                  1                  |          |
|       username       | Username for basic HTTP authentication.                                                                   |                                     |          |
|       password       | Password for basic HTTP authentication.                                                                   |                                     |          |
|      proxy_url       | Proxy URL.                                                                                                |                                     |          |
|    proxy_username    | Username for proxy basic HTTP authentication.                                                             |                                     |          |
|    proxy_password    | Password for proxy basic HTTP authentication.                                                             |                                     |          |
|        method        | HTTP request method.                                                                                      |                 GET                 |          |
|         body         | HTTP request body.                                                                                        |                                     |          |
|       headers        | HTTP request headers.                                                                                     |                                     |          |
| not_follow_redirects | Redirect handling policy. Controls whether the client follows redirects.                                  |                 no                  |          |
|   tls_skip_verify    | Server certificate chain and hostname validation policy. Controls whether the client performs this check. |                 no                  |          |
|        tls_ca        | Certification authority that the client uses when verifying the server's certificates.                    |                                     |          |
|       tls_cert       | Client TLS certificate.                                                                                   |                                     |          |
|       tls_key        | Client TLS key.                                                                                           |                                     |          |

</details>

#### Examples

##### Basic

A basic example configuration.


```yaml
jobs:
  - name: local
    url: http://127.0.0.1/server-status?auto
```


##### HTTP authentication

Basic HTTP authentication.
<details>
<summary>Config</summary>

```yaml
jobs:
  - name: local
    url: http://127.0.0.1/server-status?auto
    username: username
    password: password
```

</details>

##### HTTPS with self-signed certificate

Apache with enabled HTTPS and self-signed certificate.
<details>
<summary>Config</summary>

```yaml
jobs:
  - name: local
    url: https://127.0.0.1/server-status?auto
    tls_skip_verify: yes
```

</details>

##### Multi-instance

> **Note**: When you define multiple jobs, their names must be unique.

Collecting metrics from local and remote instances.

<details>
<summary>Config</summary>

```yaml
jobs:
  - name: local
    url: http://127.0.0.1/server-status?auto

  - name: remote
    url: http://192.0.2.1/server-status?auto
```

</details>

## Troubleshooting

### Debug mode

To troubleshoot issues with the `apache` collector, run the `go.d.plugin` with the debug option enabled. The output
should give you clues as to why the collector isn't working.

- Navigate to the `plugins.d` directory, usually at `/usr/libexec/netdata/plugins.d/`. If that's not the case on
  your system, open `netdata.conf` and look for the `plugins` setting under `[directories]`.

  ```bash
  cd /usr/libexec/netdata/plugins.d/
  ```

- Switch to the `netdata` user.

  ```bash
  sudo -u netdata -s
  ```

- Run the `go.d.plugin` to debug the collector:

  ```bash
  ./go.d.plugin -d -m apache
  ```

## Related integrations

You can also monitor aspects of Apache through the following integrations:

- [Web server log](/docs/data-collection/web-servers-and-web-proxies/web-logs/apache-nginx-microsoft-iis)
- [HTTP endpoint](/docs/data-collection/synthetic-checks/http-endpoints-check)
- [Cgroups](/docs/data-collection/containers-and-vms/cgroups)
- [Apps](/docs/data-collection/apm/application-monitoring)
- [Systemd units state](/docs/data-collection/systemd/systemd-units)

## Additional Blog Posts / Use-cases

- [How to monitor and troubleshoot Apache web servers](https://blog.netdata.cloud/apache-monitoring/)
